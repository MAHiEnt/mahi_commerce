<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Florida Man Adventures</title>
  <link href="https://fonts.googleapis.com/css2?family=Bangers&family=Inter&display=swap" rel="stylesheet">
  <style>
    body { margin: 0; font-family: 'Inter', sans-serif; background: #fff; color: #222; }
    header { background: #FF4500; color: white; padding: 1rem; font-family: 'Bangers', cursive; font-size: 2rem; text-align: center; position: sticky; top: 0; z-index: 1000; }
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem; padding: 1rem; }
    .card { border: 2px solid #228B22; border-radius: 8px; padding: 1rem; background: #FF69B4; }
    .card img { width: 100%; border-radius: 4px; height: 250px; object-fit: cover; }
    .card h2 { font-family: 'Bangers', cursive; font-size: 1.5rem; margin: 0.5rem 0; }
    .card p { font-size: 0.9rem; }
    .card button { background: #00BFFF; color: white; border: none; padding: 0.5rem 1rem; margin-top: 0.5rem; font-weight: bold; cursor: pointer; width: 100%; }
    footer { background: #696969; color: white; text-align: center; padding: 1rem; font-size: 0.8rem; }
    footer a { color: #FFD700; text-decoration: none; margin: 0 10px; }
  </style>
</head>
<body>
  <header>Florida Man Adventures üêäüî•</header>
  <main class="grid" id="product-grid"></main>
  <footer>
    <p><a href="privacy.html">Privacy</a> | <a href="terms.html">Terms</a> | <a href="refunds.html">Refunds</a> | <a href="contact.html">Contact</a></p>
    <p>&copy; 2025 Florida Man Adventures</p>
  </footer>
  <script>
    const products = [{"product_id": "gator-rider", "title": "Florida Man: Gator Rider", "description": "Original Florida Man design. Perfect for chaos lovers!", "price": 24.99, "mockup_url": "https://i.ibb.co/Pvqj2YdX/b3d03ad52df7.png"}, {"product_id": "test-florida-man", "title": "Florida Man: Test Florida Man", "description": "Original Florida Man design. Perfect for chaos lovers!", "price": 24.99, "mockup_url": "https://i.ibb.co/8ZdY3gR/552be4abbbf4.png"}];
    const grid = document.getElementById('product-grid');
    products.forEach(p => {
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `<img src="${p.mockup_url}" alt="${p.title}"/><h2>${p.title}</h2><p>${p.description}</p><button data-product="${p.product_id}">Buy Now - $${p.price}</button>`;
      grid.appendChild(card);
    });
    document.querySelectorAll('button').forEach(btn => btn.addEventListener('click', async (e) => {
      const pid = e.target.dataset.product;
      btn.textContent = 'Processing...';
      try {
        const res = await fetch('https://florida-man-backend.onrender.com/create-checkout-session', {method: 'POST', headers: {'Content-Type': 'application/x-www-form-urlencoded'}, body: `product_id=${pid}`});
        const data = await res.json();
        if (data.url) window.location.href = data.url; else alert('Error: ' + (data.error || 'Payment failed'));
      } catch (err) { alert('Payment error'); btn.textContent = 'Buy Now'; }
    }));
  </script>
</body>
</html>
